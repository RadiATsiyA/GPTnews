{% extends 'general/base.html' %}
{% load static cache %}

{% block css %} <link rel="stylesheet" href="{% static 'css/style.css' %}"> {% endblock %}

    {% block content %}
            <section class="main">
        <div class="container">
            <img src="{% static 'imgs/gptnews_logo.jpg' %}" alt="" class="main_img">
            <h2 class="main_title">Blog with fantastic news generated by ChatGPT & DALL-E neural networks</h2>
            <h3 class="main_subtitle">All the news is made up, you don't need to take them seriously</h3>
            <hr class="main_hr">
            <div class="container_small">
                <h3 class="main_article">All articles</h3>
                <div class="article_boxes">

                {% cache 3600 article_list %}
                    {% for article in article_list %}
                    <a class="article_box_link"
                    href="{% url 'article' article.id %}">
                    <div class="article_box">
                        <img src="{{ article.image_url }}" alt="" class="article_img">
                        <p class="article_title">{{ article.name }}</p>
                    </div>
                    </a>
                    {% endfor %}
                {% endcache %}
                </div>
            </div>

            <nav aria-label="Page navigation example">
      {% if is_paginated %}
      <ul class="pagination">
        {% if page_obj.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page={{page_obj.previous_page_number}}"
            >&laquo;</a
          >
        </li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#">&laquo;</a>
        </li>
        {% endif %}
          {% for i in paginator.page_range %}
          {% if page_obj.number == i %}
        <li class="page-item"><a class="page-link active">{{ i }}</a></li>
        {% else %}
        <li class="page-item">
          <a class="page-link" href="?page={{ i }}">{{ i }}</a>
        </li>
        {% endif %}
          {% endfor %}
          {% if page_obj.has_next %}
        <li class="page-item">
          <a href="?page={{page_obj.next_page_number}}" class="page-link"
            >&raquo;</a
          >
        </li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link">&raquo;</a>
        </li>
        {% endif %}
      </ul>
      {% endif %}
    </nav>

        </div>
    </section>
    {% endblock %}